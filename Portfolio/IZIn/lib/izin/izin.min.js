!function(a,b){"use strict";function c(){var a=document.getElementsByTagName("script");return a[a.length-1].src}function d(a){return a.replace(/[^\/\\]+$/,"")}function e(a){return/izinEnv.js/.test(a)}function f(a){return/.min.js/.test(a)}function g(){var a=c();if(e(a))h.url_css="../css/izin.css",h.url_image_loading="../izin-images/image-loading.gif";else{var b=d(a);h.url_css=b+(f(a)?"izin.min.css":"izin.css"),h.url_image_loading=b+"image-loading.gif"}}function h(){}function i(b){a("head").append('<link rel="stylesheet" href="'+b+'" />')}function j(a,b,c,d){if(a instanceof j){var e=a;this.left=e.left,this.top=e.top,this.width=e.width,this.height=e.height}else this.left=a||0,this.top=b||0,this.width=c||0,this.height=d||0}function k(){this._init()}function l(a){var c=10,d=10,e=a[0];if(e.naturalWidth!==b)c=e.naturalWidth,d=e.naturalHeight;else{var f=new Image;f.src=e.src,c=f.width,d=f.height}return{width:c,height:d,toString:function(){return c+"x"+d}}}function m(a,b,c){function d(a,b){setTimeout(function(){c(a,b)},10)}function e(){a.off("load.img-zoom"),a.off("error.img-zoom")}if(b&&a.attr("src",b),m.failedSrcs){if(m.failedSrcs[b])return void d(!1,"error")}else m.failedSrcs={};var f=a[0];f.complete?d(!0,"complete"):(a.on("load.img-zoom",function(){e(),d(!0,"loaded")}),a.on("error.img-zoom",function(){e(),m.failedSrcs[b]=!0,d(!1,"error")}))}function n(){var b='<div class="img-zoom-background cursor-zoom-out"></div>';this.$background=a(b),a("body").append(this.$background),this.$background.fadeOut(0)}function o(a,b){return a.height*b/a.width}g(),i(h.url_css),j.getElementRect=function(b){var c=a(b),d=c.offset(),e=c.width(),f=c.height();return new j(d.left,d.top,e,f)},j.getWindowRect=function(){var b=a(window),c=b.scrollTop(),d=b.width(),e=b.height();return new j(0,c,d,e)},j.getCenteredRect=function(a,b,c){c||(c=j.getWindowRect());var d=c.left+(c.width-a)/2,e=c.top+(c.height-b)/2;return 0>d&&(d=0),0>e&&(e=0),new j(d,e,a,b)},function(){function c(a,b,c){c||(c=j.getWindowRect());var d=(c.width-a)/2,e=(c.height-b)/2;return r>d&&(d=r),r>e&&(e=r),new j(c.left+d,c.top+e,a,b)}function d(){var a=j.getWindowRect(),b=c(m,n,a);return b}function e(){var a=j.getWindowRect(),b=c(a.width/2,a.height/2,a);return b}k.prototype.startHide=function(){this._startHide()},k.prototype.startShow=function(a){this._startShow(a)},k.prototype.startShowError=function(){this._startShowError()},k.prototype.startShowImage=function(){this._startShowImage()};var f=500,g=300,i=400,m=200,n=150,p=5,r=30;k.prototype._init=function(){function b(){var a="";return a+='<div class="img-zoom-popup img-zoom-hidden cursor-zoom-out"> \r\n',a+='    <img class="img-zoom-loading" src="'+h.url_image_loading+'"  /> \r\n',a+='    <a href="#" target="_blank" class="img-zoom-a-big"><img class="img-zoom-large" /></a> \r\n',a+='    <p class="img-zoom-error"> \r\n',a+="        <span>Error loading image:</span><br /> \r\n",a+='        <a href="img/normal1.gif">http://xxxxx.gif</a> \r\n',a+="    </p> \r\n",a+="</div> \r\n"}function c(b){i.$div=a(b),i.$imgLoading=a(".img-zoom-loading",i.$div),i.$imgLarge=a(".img-zoom-large",i.$div),i.$aBig=a(".img-zoom-a-big",i.$div),i.$pError=a(".img-zoom-error",i.$div),i.$aError=a(".img-zoom-error a",i.$div)}function d(){i.$thumb=null,i.fullSize=null,i.handleResizeActive=!1,i.useMinRect=!1}function e(){i.$aBig.click(function(a){i._isBigLinkEnabled()||a.preventDefault()})}function f(){a(window).resize(q(function(){i.handleResizeActive&&i._resizePopup()},150))}function g(){a("body").append(i.$div)}var i=this;c(b()),d(),e(),f(),g()};var s=0,t=1,u=2,v=3;k.prototype._setView=function(a){function b(a,b){b?a.show():a.hide()}a==s&&this.$div.addClass("img-zoom-hidden"),b(this.$imgLoading,a===t),b(this.$imgLarge,a===v),b(this.$pError,a===u),a===u&&(this.$aError.prop("href",this.$imgLarge.prop("src")),this.$aError.text(this.$imgLarge.prop("src"))),a!=s&&this.$div.removeClass("img-zoom-hidden")},k.prototype._enableBigLink=function(){this.$aBig.prop("href",this.$imgLarge.prop("src")),this.$imgLarge.removeClass("cursor-zoom-out"),this.$imgLarge.addClass("cursor-zoom-in")},k.prototype._disableBigLink=function(){this.$aBig.prop("href","#"),this.$imgLarge.removeClass("cursor-zoom-in"),this.$imgLarge.addClass("cursor-zoom-out")},k.prototype._isBigLinkEnabled=function(){return this.$imgLarge.hasClass("cursor-zoom-in")},k.prototype._animatePopup=function(a,c,d,e){"function"==typeof d&&(e=d,d=1),d===b&&(d=1),this.$div.animate({left:a.left,top:a.top,width:a.width,height:a.height,opacity:d},c,e)},k.prototype._resizePopup=function(){if(this.useMinRect)return void this._animatePopup(d(),g);var a=j.getWindowRect(),b=2*(r+p),e=this.fullSize.width<=m||this.fullSize.width+b<=a.width;if(e){var f=c(this.fullSize.width,this.fullSize.height,a);this._animatePopup(f,g),this.$imgLarge.width(""),this._disableBigLink()}else{var h=a.width-b,i=o(this.fullSize,h),k=c(h,i,a);if(this.$imgLarge.width()<h)this.$imgLarge.width(h),this._animatePopup(k,g);else{var l=this;this._animatePopup(k,g,function(){l.$imgLarge.width(h)})}this._enableBigLink()}},k.prototype._startHide=function(){var a=this;this.handleResizeActive=!1;var b=j.getElementRect(this.$thumb);this._animatePopup(b,i,.3,function(){a._setView(s)})},k.prototype._startShow=function(a){this.$thumb=a;var b=j.getElementRect(a);this._animatePopup(b,0,.3),this._setView(t),this.$imgLarge.width("");var c=e();this._animatePopup(c,f),this._disableBigLink()},k.prototype._startShowError=function(){this.$div.stop(),this.useMinRect=!0,this.fullSize={width:m,height:n},this._animatePopup(d(),g),this._setView(u),this.handleResizeActive=!0},k.prototype._startShowImage=function(){this.$div.stop(),this._setView(v);var a=l(this.$imgLarge);this.fullSize=a;var b=a.width<m&&a.height<n;b?(this.useMinRect=!0,this.$imgLarge.addClass("img-zoom-large-low"),this._animatePopup(d(),g)):(this.useMinRect=!1,this.$imgLarge.removeClass("img-zoom-large-low"),this._resizePopup()),this.handleResizeActive=!0}}(),n.prototype.startShow=function(){this.$background.fadeIn()},n.prototype.startHide=function(){this.$background.fadeOut()};var p=Date.now||function(){return(new Date).getTime()},q=function(a,b,c){var d,e,f,g,h,i=function(){var j=p()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=p();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}};!function(){function a(){var a=document.getElementsByTagName("script");return a[a.length-1].src}function b(a){var b=a.lastIndexOf("/");return a.substr(0,b+1)}function c(a){var b=document.createElement("style");b.type="text/css",b.styleSheet?b.styleSheet.cssText=a:b.appendChild(document.createTextNode(a)),document.getElementsByTagName("head")[0].appendChild(b)}var d="cursor-zoom-in",e="cursor-zoom-out",f=a(),g=b(f),h="."+d+" { cursor: url("+g+"zoom-in.cur), pointer;cursor: zoom-in;cursor: -moz-zoom-in;cursor: -webkit-zoom-in;}."+e+" {cursor: url("+g+"zoom-out.cur), pointer;cursor: zoom-out;cursor: -moz-zoom-out;cursor: -webkit-zoom-out;}";c(h)}(),a().ready(function(){function b(a){var b=a.attr("data-izin");return b||(b=a.attr("src")),b}function c(a){e.startShow(),f.startShow(a),m(f.$imgLarge,b(a),function(a){a?f.startShowImage():f.startShowError()})}function d(){e.startHide(),f.startHide()}var e=new n,f=new k;a("img[data-izin]").addClass("cursor-zoom-in").click(function(){c(a(this))}),e.$background.click(function(){d()}),f.$div.click(function(){d()})})}(jQuery);